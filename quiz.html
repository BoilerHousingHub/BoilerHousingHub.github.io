<!DOCTYPE html>
<html>
    <head>
        <title>Purdue Housing Quiz</title>
        <link rel="stylesheet" id="unitedsans-css" href="https://www.purdue.edu/home/wp-content/mu-plugins/boilerup-wp/unitedsans.css?ver=6.6.2" type="text/css" media="all" />
        <link rel="shortcut icon" href="https://boilerhousinghub.github.io/favicon.ico" />
        <style>
            body {
                background-color: RGB(207, 185, 145);
                margin: 0;
                padding: 0;
                height: 100%;
                overflow-x: hidden;
            }

            #main {
                background-color: white;
                width: 80vw;
                max-width: 1000px;
                height: 100%;
                margin: auto;
                padding: 0;
                position: relative;
                top: 0;
                margin-top: 0;
            }

            #problems, #submit {
                font-size: min(5vw, 30px);
                padding-top: 110px;
            }

            @media (min-width: 981px) {
                .options, #submit {
                    padding: 10px;
                    border-radius: 10px;
                }

                .divider {
                    border: solid gray;
                    border-radius: 3px;
                    border-width: 3px;
                    width: 300px;
                    margin-top: 50px;
                }

                .nav-items a {
                    font-size: 16px;
                }
                .text {
                    padding-left: 100px;
                    padding-right: 100px;
                    text-wrap: balance;
                }
                select {
                	height: 30px;
                	font-size: 20px;
            	}
            .resultItems {
            	border: solid;
                border-color: black;
                border-radius: 10px;
                width: 40vw;
                margin: auto;
                height: 100px;
                margin-bottom: 20px;
          }
          .resultImgs {
          		width: 100px;
                float: left;
    			border-radius:8px;
    			overflow:hidden;
          }
          .resultPs {
          		font-family: "United Sans", sans-serif;
          		position: relative;
                text-align: center;
                padding: 5px;
                margin: 0;
          }
            }

            @media (max-width: 980px) {
                body {
                    background-color: white;
                }

                #main {
                    width: 100vw;
                }

                #problems, #submit {
                    font-size: 8vw;
                }

                .options, #submit {
                    width: auto;
                    padding: 2vw;
                    border-radius: 2vw;
                }

                .divider {
                    border: solid gray;
                    border-radius: 1vw;
                    border-width: 1vw;
                    width: 70vw;
                    margin-top: 10vw;
                }

                .nav-items a {
                    font-size: 4vw;
                }
                .text {
                    padding-left: 5vw;
                    padding-right: 5vw;
                }
           		select {
                	height: 6vw;
                	font-size: 3.5vw;
                }
                
                .resultItems {
            	border: solid;
                border-color: black;
                border-radius: 10px;
                width: 80vw;
                margin: auto;
                height: 20vw;
                margin-bottom: 20px;
          		}
          		.resultImgs {
          		width: 20vw;
                float: left;
    			border-radius:8px;
    			overflow:hidden;
        	  	}
                .resultPs {
          		font-family: "United Sans", sans-serif;
          		position: relative;
                text-align: center;
                padding: 0.75vw;
                margin: 0;
              	}
            }

            .question {
                padding: 10px;
                height: auto;
                text-align: center;
            }

            .header {
                font-family: "United Sans Condensed", sans-serif;
                font-weight: 900;
                margin: 0;
            }

            .text {
                font-family: "United Sans", sans-serif;
                margin-top: 10px;
            }

            .radio {
                -webkit-appearance: none;
                appearance: none;
                background-color: #fff;
                margin: 0;
            }

            .radio:checked + .options, #submit:active {
                color: white;
                background-color: black;
                border-color: black;
            }

            .options, #submit {
                font-family: "United Sans", sans-serif;
                font-weight: bold;
                border: solid;
                border-color: RGB(207, 185, 145);
                cursor: pointer;
                background-color: RGB(207, 185, 145);
                display: inline-block;
            }

            #list {
                display: flex;
                justify-content: space-between;
                align-items: center;
                position: fixed;
                top: 0;
                width: 100%;
                background-color: black;
                z-index: 1;
                padding: 20px;
                outline: 2px solid rgba(207, 185, 145, 0.8);
            }

            .nav-items {
                display: flex;
                justify-content: flex-end;
                margin-right: 10%;
            }

            .nav-items a {
                color: RGB(207, 185, 145);
                text-decoration: none;
                font-family: "United Sans", sans-serif;
                margin: 0 15px;
                transition: color 0.3s;
            }

            .nav-items a:hover {
                text-decoration: underline;
                color: white;
            }

            .logo {
                width: 100px;
                margin-left: 10%;
            }
            select {
                position: relative;
                font-family: "United Sans", sans-serif;
            }
            .ranking {
                position: relative;
                font-family: "United Sans", sans-serif;
            }
        </style>
    </head>

    <body>
        <nav id="list">
            <img src="BoilerHousingHub.png" alt="Logo" class="logo" />
            <div class="nav-items">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="quiz.html">Quiz</a>
            </div>
        </nav>

        <div id="main">
            <div id="intro"></div>

            <div id="problems">
                <div id="Q1" class="question">
                    <h1 class="header">1. Category Importance</h1>
                    <p class="text">Rank these attributes based on their importance to you:</p>

                    <label class="ranking" for="ValueRank1">Rank 1:</label>
                    <select name="ValueRank1" id="ValueRank1" onchange="ValueRank1()">
                        <option value="0" selected></option>
                        <option value="1" id="v11">A/C</option>
                        <option value="2" id="v12">Bathroom Style</option>
                        <option value="3" id="v13">Number of Roommates</option>
                        <option value="4" id="v14">Cost</option>
                        <option value="5" id="v15">Proximity to Academic Campus</option>
                        <option value="6" id="v16">Proximity to Food</option>
                    </select>
                    <br />
                    <label class="ranking" for="ValueRank2">Rank 2:</label>
                    <select name="ValueRank2" id="ValueRank2" onchange="ValueRank2()">
                        <option value="0" selected></option>
                        <option value="1" id="v21">A/C</option>
                        <option value="2" id="v22">Bathroom Style</option>
                        <option value="3" id="v23">Number of Roommates</option>
                        <option value="4" id="v24">Cost</option>
                        <option value="5" id="v25">Proximity to Academic Campus</option>
                        <option value="6" id="v26">Proximity to Food</option>
                    </select>
                    <br />
                    <label class="ranking" for="ValueRank3">Rank 3:</label>
                    <select name="ValueRank3" id="ValueRank3" onchange="ValueRank3()">
                        <option value="0" selected></option>
                        <option value="1" id="v31">A/C</option>
                        <option value="2" id="v32">Bathroom Style</option>
                        <option value="3" id="v33">Number of Roommates</option>
                        <option value="4" id="v34">Cost</option>
                        <option value="5" id="v35">Proximity to Academic Campus</option>
                        <option value="6" id="v36">Proximity to Food</option>
                    </select>
                    <br />
                    <label class="ranking" for="ValueRank4">Rank 4:</label>
                    <select name="ValueRank4" id="ValueRank4" onchange="ValueRank4()">
                        <option value="0" selected></option>
                        <option value="1" id="v41">A/C</option>
                        <option value="2" id="v42">Bathroom Style</option>
                        <option value="3" id="v43">Number of Roommates</option>
                        <option value="4" id="v44">Cost</option>
                        <option value="5" id="v45">Proximity to Academic Campus</option>
                        <option value="6" id="v46">Proximity to Food</option>
                    </select>
                    <br />
                    <label class="ranking" for="ValueRank5">Rank 5:</label>
                    <select name="ValueRank5" id="ValueRank5" onchange="ValueRank5()">
                        <option value="0" selected></option>
                        <option value="1" id="v51">A/C</option>
                        <option value="2" id="v52">Bathroom Style</option>
                        <option value="3" id="v53">Number of Roommates</option>
                        <option value="4" id="v54">Cost</option>
                        <option value="5" id="v55">Proximity to Academic Campus</option>
                        <option value="6" id="v56">Proximity to Food</option>
                    </select>
                    <br />
                    <label class="ranking" for="ValueRank6">Rank 6:</label>
                    <select name="ValueRank6" id="ValueRank6" onchange="ValueRank6()">
                        <option value="0" selected></option>
                        <option value="1" id="v51">A/C</option>
                        <option value="2" id="v62">Bathroom Style</option>
                        <option value="3" id="v63">Number of Roommates</option>
                        <option value="4" id="v64">Cost</option>
                        <option value="5" id="v65">Proximity to Academic Campus</option>
                        <option value="6" id="v66">Proximity to Food</option>
                    </select>
                    <hr class="divider" />
                </div>

                <div id="Q2" class="question">
                    <h1 class="header">2. Biological Sex</h1>
                    <p class="text">What is your biological sex?</p>

                    <input class="radio" type="radio" id="Q2-1" name="Q2" value="Male" />
                    <label class="options" for="Q2-1">Male</label>

                    <input class="radio" type="radio" id="Q2-2" name="Q2" value="Female" />
                    <label class="options" for="Q2-2">Female</label>

                    <input class="radio" type="radio" id="Q2-3" name="Q2" value="Other" />
                    <label class="options" for="Q2-3">Other</label>

                    <hr class="divider" />
                </div>

                <div id="Q3" class="question">
                    <h1 class="header">3. Gender Inclusive</h1>
                    <p class="text">Do you wish to be in a gender-inclusive dorm?</p>

                    <input class="radio" type="radio" id="Q3-1" name="Q3" value="Yes" />
                    <label class="options" for="Q3-1">Yes</label>

                    <input class="radio" type="radio" id="Q3-2" name="Q3" value="No" />
                    <label class="options" for="Q3-2">No</label>

                    <hr class="divider" />
                </div>

                <div id="Q4" class="question">
                    <h1 class="header">4. All Male/Female</h1>
                    <p class="text">Would you prefer a dorm that is exclusively male or female?</p>

                    <input class="radio" type="radio" id="Q4-1" name="Q4" value="Yes" />
                    <label class="options" for="Q4-1">Yes</label>

                    <input class="radio" type="radio" id="Q4-2" name="Q4" value="No" />
                    <label class="options" for="Q4-2">No</label>

                    <hr class="divider" />
                </div>

                <div id="Q5" class="question">
                    <h1 class="header">5. Bathroom</h1>
                    <p class="text">Please state your preference on community style (1) vs suite style (5) bathroom:</p>

                    <input class="radio" type="radio" id="Q5-1" name="Q5" value="1" />
                    <label class="options" for="Q5-1">1</label>

                    <input class="radio" type="radio" id="Q5-2" name="Q5" value="2" />
                    <label class="options" for="Q5-2">2</label>

                    <input class="radio" type="radio" id="Q5-3" name="Q5" value="3" />
                    <label class="options" for="Q5-3">3</label>

                    <input class="radio" type="radio" id="Q5-4" name="Q5" value="4" />
                    <label class="options" for="Q5-4">4</label>

                    <input class="radio" type="radio" id="Q5-5" name="Q5" value="5" />
                    <label class="options" for="Q5-5">5</label>

                    <hr class="divider" />
                </div>
                
                <div id="Q6" class="question">
                   <h1 class="header">6. Number of Roommates</h1>
                    <p class="text">Please rank your preference in your ideal number of roommates:</p>

                    <label class="ranking" for="RoomRank1">Rank 1:</label>
                    <select name="RoomRank1" id="RoomRank1" onchange="RoomRank1()">
                        <option value="0" selected></option>
                        <option value="1" id="11">Single</option>
                        <option value="2" id="12">Double</option>
                        <option value="3" id="13">Triple</option>
                        <option value="4" id="14">Quad</option>
                    </select>
                    <br />
                    <label class="ranking" for="RoomRank2">Rank 2:</label>
                    <select name="RoomRank2" id="RoomRank2" onchange="RoomRank2()">
                        <option value="0" selected></option>
                        <option value="1" id="21">Single</option>
                        <option value="2" id="22">Double</option>
                        <option value="3" id="23">Triple</option>
                        <option value="4" id="24">Quad</option>
                    </select>
                    <br />
                    <label class="ranking" for="RoomRank3">Rank 3:</label>
                    <select name="RoomRank3" id="RoomRank3" onchange="RoomRank3()">
                        <option value="0" selected></option>
                        <option value="1" id="31">Single</option>
                        <option value="2" id="32">Double</option>
                        <option value="3" id="33">Triple</option>
                        <option value="4" id="34">Quad</option>
                    </select>
                    <br />
                    <label class="ranking" for="RoomRank4">Rank 4:</label>
                    <select name="RoomRank4" id="RoomRank4" onchange="RoomRank4()">
                        <option value="0" selected></option>
                        <option value="1" id="41">Single</option>
                        <option value="2" id="42">Double</option>
                        <option value="3" id="43">Triple</option>
                        <option value="4" id="44">Quad</option>
                    </select>
                    <hr class="divider" />
                </div>
                
                <div class="question">
                	<button id="submit" onclick="verify()">Submit</button>
                    <hr class="divider" />
                </div>
                <div id="result"></div>
            </div>
        </div>
        <script src="js/ResidenceDatabase.js" ></script>

        <script>
            function setColor(p) {
                let red = 0;
                let green = 0;
                if (p < 50) {
                    red = Math.round(256 - (p - 50) * 5.12)
                    green = 255;
                } else {
                    green = Math.round((p) * 5.12)
                    red = 255;
                }
                return "rgb(" + red + "," + green + ",0)";
            }
        	let result = document.getElementById("result");
        	function verify() {
                let bool = true;
            	let v1 = document.getElementById('ValueRank1').value;
            	let v2 = document.getElementById('ValueRank2').value;
            	let v3 = document.getElementById('ValueRank3').value;
            	let v4 = document.getElementById('ValueRank4').value;
            	let v5 = document.getElementById('ValueRank5').value;
            	let v6 = document.getElementById('ValueRank6').value;
          		let Q21 = document.getElementById('Q2-1').checked;
          		let Q22 = document.getElementById('Q2-2').checked;
          		let Q23 = document.getElementById('Q2-3').checked;
          		let Q31 = document.getElementById('Q3-1').checked;
          		let Q32 = document.getElementById('Q3-2').checked;
          		let Q41 = document.getElementById('Q4-1').checked;
          		let Q42 = document.getElementById('Q4-2').checked;
          		let Q51 = document.getElementById('Q5-1').checked;
          		let Q52 = document.getElementById('Q5-2').checked;
          		let Q53 = document.getElementById('Q5-3').checked;
          		let Q54 = document.getElementById('Q5-4').checked;
          		let Q55 = document.getElementById('Q5-5').checked;
            	let r1 = document.getElementById('RoomRank1').value;
            	let r2 = document.getElementById('RoomRank2').value;
            	let r3 = document.getElementById('RoomRank3').value;
            	let r4 = document.getElementById('RoomRank4').value;
                
                if (v1 == 0 || v2 == 0 || v3 == 0 || v4 == 0 || v5 == 0 || v6 == 0) {
               		bool = false;
                	alert("Question 1 must be filled out.");
                } else if (!(Q21 === true || Q22 === true  || Q23 === true)) {
                	bool = false;
                	alert("Question 2 must be filled out.");
                } else if (!(Q31 === true || Q32 === true)) {
                	bool = false;
                	alert("Question 3 must be filled out.");
                } else if (!(Q41 === true || Q42 === true)) {
                	bool = false;
                	alert("Question 4 must be filled out.");
                } else if (!(Q51 === true || Q52 === true || Q53 === true || Q54 === true || Q55 === true)) {
                	bool = false;
                	alert("Question 5 must be filled out.");
                } else if (r1 == 0 || r2 == 0 || r3 == 0 || r4 == 0) {
               		bool = false;
                	alert("Question 6 must be filled out.");
                }
                if (bool) {
            	result.innerHTML = "";
                getUserSex();
                genderInclusive();
                genderedDorm();
                bathroomPref();
                roomRank();
                PowerRanking();
                let finalArray = makeArray();
                for (let i = 0; i < finalArray.length; i++) {
                	let resultColor = setColor(finalArray[i][0]);
                	let newDiv = document.createElement("div");
                    newDiv.innerHTML=
                   `
                	<div class="resultItems">
                    	<img class="resultImgs" src="https://boilerhousinghub.github.io/images/` + finalArray[i][0].name + `.png">
                   	 	<p class="resultPs" style="font-weight: bold;">` + (i+1) + `. ` + finalArray[i][0].name + `</p>
                    	<p class="resultPs" style="color: ` + resultColor + `;">` + finalArray[i][1] + `% match</p>
                	</div>
                   `
            	    result.append(newDiv);
                }
                }
            }
            function RoomRank4() {
                var rr = document.getElementById("RoomRank4");
                var r = rr.options[rr.selectedIndex].value;
                document.getElementById("1" + r).selected = false;
                document.getElementById("2" + r).selected = false;
                document.getElementById("3" + r).selected = false;
            }

            function RoomRank3() {
                var rr = document.getElementById("RoomRank3");
                var r = rr.options[rr.selectedIndex].value;
                document.getElementById("1" + r).selected = false;
                document.getElementById("2" + r).selected = false;
                document.getElementById("4" + r).selected = false;
            }

            function RoomRank2() {
                var rr = document.getElementById("RoomRank2");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("1" + r).selected = false;
                document.getElementById("3" + r).selected = false;
                document.getElementById("4" + r).selected = false;
            }

            function RoomRank1() {
                var rr = document.getElementById("RoomRank1");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("2" + r).selected = false;
                document.getElementById("3" + r).selected = false;
                document.getElementById("4" + r).selected = false;
            }

            function ValueRank1() {
                var rr = document.getElementById("ValueRank1");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("v2" + r).selected = false;
                document.getElementById("v3" + r).selected = false;
                document.getElementById("v4" + r).selected = false;
                document.getElementById("v5" + r).selected = false;
                document.getElementById("v6" + r).selected = false;
            }

            function ValueRank2() {
                var rr = document.getElementById("ValueRank2");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("v1" + r).selected = false;
                document.getElementById("v3" + r).selected = false;
                document.getElementById("v4" + r).selected = false;
                document.getElementById("v5" + r).selected = false;
                document.getElementById("v6" + r).selected = false;
            }

            function ValueRank3() {
                var rr = document.getElementById("ValueRank3");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("v1" + r).selected = false;
                document.getElementById("v2" + r).selected = false;
                document.getElementById("v4" + r).selected = false;
                document.getElementById("v5" + r).selected = false;
                document.getElementById("v6" + r).selected = false;
            }

            function ValueRank4() {
                var rr = document.getElementById("ValueRank4");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("v1" + r).selected = false;
                document.getElementById("v2" + r).selected = false;
                document.getElementById("v3" + r).selected = false;
                document.getElementById("v5" + r).selected = false;
                document.getElementById("v6" + r).selected = false;
            }

            function ValueRank5() {
                var rr = document.getElementById("ValueRank5");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("v1" + r).selected = false;
                document.getElementById("v2" + r).selected = false;
                document.getElementById("v3" + r).selected = false;
                document.getElementById("v4" + r).selected = false;
                document.getElementById("v6" + r).selected = false;
            }

            function ValueRank6() {
                var rr = document.getElementById("ValueRank6");
                var r = rr.options[rr.selectedIndex].value;

                document.getElementById("v1" + r).selected = false;
                document.getElementById("v2" + r).selected = false;
                document.getElementById("v3" + r).selected = false;
                document.getElementById("v4" + r).selected = false;
                document.getElementById("v5" + r).selected = false;
            }
        </script>
    </body>
</html>
